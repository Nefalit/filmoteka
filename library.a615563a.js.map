{"mappings":"qhBAAAA,EAAA,SCAAA,EAAA,S,uECAAC,EAAAD,EAAA,S,IC6DIE,EA3DyBC,EADzBH,EAAA,UACoCI,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC7F,IAAIC,EAAQC,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUQ,aAAe,GAAKC,EAAOT,EAAUU,MAAMC,cAAeC,EAAO,WAAYC,EAAOb,EAAUc,iBAAkBC,EAAiBf,EAAUe,gBAAkB,SAASC,EAAQC,GAC1O,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,YACHJ,SAAQP,EAAgH,OAArGA,EAASS,EAAeb,EAAQ,QAAoB,MAAVD,EAAiBc,EAAed,EAAO,MAAQA,IAAmBK,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,KAAKC,KAAO,GAAGnB,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAASrB,GACzS,mFAC4S,OAA1SD,EAASU,EAAeb,EAAQ,MAAMmB,KAAKd,EAAkB,MAAVN,EAAiBc,EAAed,EAAO,eAAiBA,EAAQ,CAACqB,KAAO,KAAKC,KAAO,GAAGM,GAAK7B,EAAU8B,QAAQ,EAAG1B,EAAM,GAAG2B,QAAU/B,EAAU8B,QAAQ,EAAG1B,EAAM,GAAGA,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,QAAkBtB,EAAS,IAC5T,aACAQ,SAAQP,EAAsH,OAA3GA,EAASS,EAAeb,EAAQ,WAAuB,MAAVD,EAAiBc,EAAed,EAAO,SAAWA,IAAmBK,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,QAAQC,KAAO,GAAGnB,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAASrB,GACrT,kGACAO,SAAQP,EAAsH,OAA3GA,EAASS,EAAeb,EAAQ,WAAuB,MAAVD,EAAiBc,EAAed,EAAO,SAAWA,IAAmBK,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,QAAQC,KAAO,GAAGnB,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAASrB,GACrT,qDAC4S,OAA1SD,EAASU,EAAeb,EAAQ,MAAMmB,KAAKd,EAAkB,MAAVN,EAAiBc,EAAed,EAAO,aAAeA,EAAQ,CAACqB,KAAO,KAAKC,KAAO,GAAGM,GAAK7B,EAAU8B,QAAQ,EAAG1B,EAAM,GAAG2B,QAAU/B,EAAU8B,QAAQ,EAAG1B,EAAM,GAAGA,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,QAAkBtB,EAAS,IAC5T,8BACAQ,GAAQE,EAAeb,EAAQ,YAAaD,GAAUc,EAAed,EAAO,YAAaQ,GAAQY,KAAKd,EAAkB,MAAVN,EAAiBc,EAAed,EAAO,gBAAkBA,EAAQ,CAACqB,KAAO,UAAUC,KAAO,GAAGnB,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,QACxR,0DACAd,SAAQP,EAAoI,OAAzHA,EAASS,EAAeb,EAAQ,kBAA8B,MAAVD,EAAiBc,EAAed,EAAO,gBAAkBA,IAAmBK,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,eAAeC,KAAO,GAAGnB,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAASrB,GAC1U,gDACJ,EAAI,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIW,EAAiBf,EAAUe,gBAAkB,SAASC,EAAQC,GAC9D,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,cACHjB,EAAUc,kBAAkBC,EAAeb,EAAQ,iBAAkBD,GAAUc,EAAed,EAAO,iBAAkBD,EAAUU,MAAMC,eAAeU,KAAe,MAAVpB,EAAiBA,EAAUD,EAAUQ,aAAe,GAAe,MAAVP,EAAiBc,EAAed,EAAO,eAAiBA,EAAQ,CAACqB,KAAO,eAAeC,KAAO,GAAGnB,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,QAChY,OACJ,EAAI,SAAS3B,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,MAAO,4GACT,EAAI,SAASJ,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIW,EAAiBf,EAAUe,gBAAkB,SAASC,EAAQC,GAC9D,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,gDACHjB,EAAUc,kBAAkBC,EAAeb,EAAQ,mBAAoBD,GAAUc,EAAed,EAAO,mBAAoBD,EAAUU,MAAMC,eAAeU,KAAe,MAAVpB,EAAiBA,EAAUD,EAAUQ,aAAe,GAAe,MAAVP,EAAiBc,EAAed,EAAO,aAAeA,EAAQ,CAACqB,KAAO,iBAAiBC,KAAO,GAAGnB,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,QACtY,MACJ,EAAI,SAAS3B,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,MAAO,iEACT4B,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASjC,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIC,EAON,OAA+R,OAAtRA,GAPsBL,EAAUe,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWf,EAAQ,QAAQmB,KAAe,MAAVpB,EAAiBA,EAAUD,EAAUQ,aAAe,GAAIP,EAAO,CAACqB,KAAO,OAAOC,KAAO,GAAGM,GAAK7B,EAAU8B,QAAQ,EAAG1B,EAAM,GAAG2B,QAAU/B,EAAUkC,KAAK9B,KAAOA,EAAKoB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAiBtB,EAAS,IAC/S8B,SAAU,I,0BDtDZ,MAAMC,EAAcC,SAASC,cAAc,0BACrCC,EAAaF,SAASC,cAAc,mBACpCE,EAAYH,SAASC,cAAc,iBACnCG,EAAgBJ,SAASC,cAAc,eACvCI,EAAcL,SAASC,cAAc,eAGpC,IAAIK,EAAe,QAEnB,SAASC,EAAcC,GAC5BT,EAAYU,UAAY,GACxBV,EAAYW,mBAAmB,YAAalD,EAAgBgD,IAG9DN,EAAWS,iBAAiB,QAASC,GAErC,IAAIC,EAAqB,EACrBC,EAAkB,EAClBC,EAAiB,GAEd,SAASH,IACdV,EAAWc,UAAUC,IAAI,eACzBf,EAAWc,UAAUE,OAAO,eAC5Bf,EAAUa,UAAUC,IAAI,eACxBd,EAAUa,UAAUE,OAAO,eAC3BZ,EAAe,UACfF,EAAcY,UAAUC,IAAI,mBAC5BZ,EAAYW,UAAUC,IAAI,mBAE1B,MAAME,GAAc,EAAAC,EAAAC,MAAKC,EAAAC,oBACzB,QAAoBC,IAAhBL,IAA8BA,EAAYM,OAG5C,OAFA1B,EAAYU,UAAY,QACxBJ,EAAYW,UAAUE,OAAO,mBAK/B,GAFAX,EAAcY,EAAYO,MAAMZ,EAAiBC,IAE7CI,GAAeA,EAAYM,OAAS,GAAI,CAC1CrB,EAAcY,UAAUE,OAAO,mBAE/B,MAAMS,EAAa,IAAIlE,EAAAF,GAAJ,CAAe,aAAc,CAC9CqE,WAAYT,EAAYM,OACxBI,aApCc,GAqCdC,aAAc,EACdC,aAAa,IAGfJ,EAAWK,WAAWnB,GAEtBc,EAAWM,GAAG,aAAaC,IACzB,MAAMC,GAAc,EAAAf,EAAAC,MAAKC,EAAAC,oBACzBV,EAAqBqB,EAAME,KAC3BtB,EA9Cc,IA8CKD,EAAqB,GACxCE,EAAiBD,EA/CH,GAiDdP,EAAc4B,EAAYT,MAAMZ,EAAiBC,YAGnDR,EAAcY,GACdL,EAAkB,EAClBD,EAAqB,EACrBE,EAAiB,GAIrBZ,EAAUQ,iBAAiB,QAAS0B,GAEpC,IAAIC,EAAmB,EACnBC,EAAgB,EAChBC,EAAe,GAEZ,SAASH,IACdlC,EAAUa,UAAUC,IAAI,eACxBd,EAAUa,UAAUE,OAAO,eAC3BhB,EAAWc,UAAUC,IAAI,eACzBf,EAAWc,UAAUE,OAAO,eAC5BZ,EAAe,QACfF,EAAcY,UAAUC,IAAI,mBAC5BZ,EAAYW,UAAUC,IAAI,mBAE1B,MAAMwB,GAAY,EAAArB,EAAAC,MAAKC,EAAAoB,kBACvB,QAAkBlB,IAAdiB,IAA4BA,EAAUhB,OAGxC,OAFA1B,EAAYU,UAAY,QACxBJ,EAAYW,UAAUE,OAAO,mBAK/B,GAFAX,EAAckC,EAAUf,MAAMa,EAAeC,IAEzCC,GAAaA,EAAUhB,OAAS,GAAI,CACtCrB,EAAcY,UAAUE,OAAO,mBAE/B,MAAMS,EAAa,IAAIlE,EAAAF,GAAJ,CAAe,aAAc,CAC9CqE,WAAYa,EAAUhB,OACtBI,aAvFc,GAwFdC,aAAc,EACdC,aAAa,IAGfJ,EAAWK,WAAWM,GAEtBX,EAAWM,GAAG,aAAaC,IACzB,MAAMS,GAAY,EAAAvB,EAAAC,MAAKC,EAAAoB,kBACvBJ,EAAmBJ,EAAME,KACzBG,EAjGc,IAiGGD,EAAmB,GACpCE,EAAeD,EAlGD,GAoGdhC,EAAcoC,EAAUjB,MAAMa,EAAeC,YAG/CjC,EAAckC,GACdF,EAAgB,EAChBD,EAAmB,EACnBE,EAAe,GDrGnB,MAAMI,EAAe5C,SAASC,cAAc,0BAEtC4C,EAAW7C,SAASC,cAAc,aAClC6C,EAAgB9C,SAASC,cAAc,qBACvC8C,EAAgB/C,SAASC,cAAc,8BAC7C2C,EAAajC,iBAAiB,SAI9B,SAA6BqC,GAC3B,MAAMb,GAAa,EAAAf,EAAAC,MAAKC,EAAAC,oBAClBoB,GAAW,EAAAvB,EAAAC,MAAKC,EAAAoB,kBACtB,GAA8B,OAA1BM,EAAMC,OAAOC,SACf,OAEF,MAAMC,EAAYC,OAAOJ,EAAMC,OAAOI,QAAQ,0BAA0BC,IAClEC,EACJpB,GAAcQ,EACV,IAAIR,KAAeQ,GACnBR,EACA,IAAIA,GACJ,IAAIQ,GACJa,EAAiBD,EAAiBE,WAAUC,GAAMA,EAAGJ,KAAOH,IAC5DQ,EAAcJ,EAAiBC,GAE/BI,GAAS,EAAAC,EAAAC,SAAUH,GAEzBb,EAAcrC,UAAYmD,EAE1Bf,EAAS7B,UAAUE,OAAO,mBAC1B2B,EAASlC,iBAAiB,QAASoD,GAEnC,MAAMC,EAAehE,SAASC,cAAc,0BACtCgE,EAAajE,SAASC,cAAc,wBAC1C+D,EAAarD,iBAAiB,QAASuD,GACvCD,EAAWtD,iBAAiB,QAASwD,GAEhB,UAAjB7D,IACF2D,EAAWG,YAAc,oBAGN,YAAjB9D,IACF0D,EAAaI,YAAc,2BAGR,SAAZF,IACP,GAAqB,UAAjB5D,EAA0B,CAC5B,MAAM+D,GAAW,EAAAjD,EAAAC,MAAKC,EAAAoB,kBAChB4B,EAAcD,EAASZ,WAAUC,GAAMA,EAAGJ,KAAOK,EAAYL,KACnEe,EAASE,OAAOD,EAAa,GAC7BE,aAAaC,QAAQnD,EAAAoB,iBAAkBgC,KAAKC,UAAUN,KAEtD,EAAAjD,EAAAwD,MAAKtD,EAAAC,mBAAoBoC,OACpB,CACL,MAAMkB,GAAa,EAAAzD,EAAAC,MAAKC,EAAAC,oBAClB+C,EAAcO,EAAWpB,WAAUC,GAAMA,EAAGJ,KAAOK,EAAYL,KACrE,IAAoB,IAAhBgB,EAIF,YAHA7G,EAAAqH,GAASC,OAAOC,QAAQ,yBAAC,CACJC,QAAV,MAIbJ,EAAWN,OAAOD,EAAa,GAC/BE,aAAaC,QAAQnD,EAAAC,mBAAoBmD,KAAKC,UAAUE,IACxDpH,EAAAqH,GAASC,OAAOG,QAAQ,gCAA2D,CACvDD,QAAjB,OAMf,SAASd,IACP,GAAqB,YAAjB7D,EAA4B,CAC9B,MAAMuE,GAAa,EAAAzD,EAAAC,MAAKC,EAAAC,oBAClB+C,EAAcO,EAAWpB,WAAUC,GAAMA,EAAGJ,KAAOK,EAAYL,KACrEuB,EAAWN,OAAOD,EAAa,GAC/BE,aAAaC,QAAQnD,EAAAC,mBAAoBmD,KAAKC,UAAUE,KAGxD,EAAAzD,EAAAwD,MAAKtD,EAAAoB,iBAAkBiB,OAClB,CACL,MAAMU,GAAW,EAAAjD,EAAAC,MAAKC,EAAAoB,kBAChB4B,EAAcD,EAASZ,WAAUC,GAAMA,EAAGJ,KAAOK,EAAYL,KAEnE,GADA6B,QAAQC,IAAId,IACQ,IAAhBA,EAIF,YAHA7G,EAAAqH,GAASC,OAAOC,QAAQ,yBAAC,CACJC,QAAV,MAIbZ,EAASE,OAAOD,EAAa,GAC7BE,aAAaC,QAAQnD,EAAAoB,iBAAkBgC,KAAKC,UAAUN,IACtD5G,EAAAqH,GAASC,OAAOG,QAAQ,yBAA0B,CAChDD,QAAS,OASf,SAASlB,EAAmB7B,GACtBA,EAAMe,OAAOjC,UAAUqE,SAAS,aAClCC,IAIJ,SAASC,EAAyBC,GAChB,WAAZA,EAAGC,MAGPH,IAGF,SAASA,IACc,UAAjBhF,EACF+B,IAEAzB,IAGFiC,EAAS7B,UAAUC,IAAI,mBACvB8B,EAAc2C,oBAAoB,QAASJ,GAC3CtB,EAAa0B,oBAAoB,QAASxB,GAC1CD,EAAWyB,oBAAoB,QAASvB,GACxCnE,SAAS0F,oBAAoB,UAAWH,GACxC1C,EAAS6C,oBAAoB,QAAS3B,GA5BxChB,EAAcpC,iBAAiB,QAAS2E,GACxCtF,SAASW,iBAAiB,UAAW4E,MA7FvClD,I","sources":["src/library.js","src/js/gallery-library.js","src/js/gallery-library-pagination.js","src/templates/library-card.hbs"],"sourcesContent":["import btn from './js/button-scroll-up.js';\nimport gallery from './js/gallery-library.js';\nimport { pagination } from './js/gallery-library-pagination';\nimport team from './js/team-modal.js';\n\n","import Handlebars from 'handlebars';\nimport Notiflix from 'notiflix';\nimport {\n  getYear,\n  getPosterUrl,\n  getShortPopularity,\n  getShortGenres,\n} from './handlebars.js';\nimport filmModal from '../templates/modal.hbs';\nimport { WATCHED_PAGE_FILMS, QUEUE_PAGE_FILMS } from './api-variables.js';\nimport { save, load } from './local-storage';\nimport {\n  selectedList,\n  getDataQueue,\n  getDataWatched,\n} from './gallery-library-pagination';\n\nconst galleryLibEl = document.querySelector('.gallery-library__list');\n\nconst backdrop = document.querySelector('.backdrop');\nconst modalInfoFilm = document.querySelector('.modal__info-film');\nconst btnCloseModal = document.querySelector('.modal__button-close-modal');\ngalleryLibEl.addEventListener('click', libCardClickHandler);\n\ngetDataQueue();\n\nfunction libCardClickHandler(event) {\n  const watchedArr = load(WATCHED_PAGE_FILMS);\n  const queueArr = load(QUEUE_PAGE_FILMS);\n  if (event.target.nodeName === 'UL') {\n    return;\n  }\n  const currentId = Number(event.target.closest('.gallery-library__card').id);\n  const unitedStorageArr =\n    watchedArr && queueArr\n      ? [...watchedArr, ...queueArr]\n      : watchedArr\n      ? [...watchedArr]\n      : [...queueArr];\n  const currentFilmIdx = unitedStorageArr.findIndex(el => el.id === currentId);\n  const currentFilm = unitedStorageArr[currentFilmIdx];\n\n  const markup = filmModal(currentFilm);\n\n  modalInfoFilm.innerHTML = markup;\n\n  backdrop.classList.remove('visually-hidden');\n  backdrop.addEventListener('click', backdropCloseModal);\n\n  const btnWatchedEl = document.querySelector('.modal__button-watched');\n  const btnQueueEl = document.querySelector('.modal__button-queue');\n  btnWatchedEl.addEventListener('click', saveToLibWatchedStorage);\n  btnQueueEl.addEventListener('click', saveToLibQueueStorage);\n\n  if (selectedList === 'queue') {\n    btnQueueEl.textContent = 'Видалити з черги';\n  }\n\n  if (selectedList === 'watched') {\n    btnWatchedEl.textContent = 'Видалити з переглянутих';\n  }\n\n  function saveToLibWatchedStorage() {\n    if (selectedList === 'queue') {\n      const queueArr = load(QUEUE_PAGE_FILMS);\n      const requiredInd = queueArr.findIndex(el => el.id === currentFilm.id);\n      queueArr.splice(requiredInd, 1);\n      localStorage.setItem(QUEUE_PAGE_FILMS, JSON.stringify(queueArr));\n\n      save(WATCHED_PAGE_FILMS, currentFilm);\n    } else {\n      const watchedArr = load(WATCHED_PAGE_FILMS);\n      const requiredInd = watchedArr.findIndex(el => el.id === currentFilm.id);\n      if (requiredInd === -1) {\n        Notiflix.Notify.failure(`Цей фільм вже видалено`, {\n          timeout: 1000,\n        });\n        return\n      }\n      watchedArr.splice(requiredInd, 1);\n      localStorage.setItem(WATCHED_PAGE_FILMS, JSON.stringify(watchedArr));\n      Notiflix.Notify.success('Фільм видалено з переглянутих', {\n        timeout: 1000,\n      });\n    }\n\n  }\n\n  function saveToLibQueueStorage() {\n    if (selectedList === 'watched') {\n      const watchedArr = load(WATCHED_PAGE_FILMS);\n      const requiredInd = watchedArr.findIndex(el => el.id === currentFilm.id);\n      watchedArr.splice(requiredInd, 1);\n      localStorage.setItem(WATCHED_PAGE_FILMS, JSON.stringify(watchedArr));\n\n\n      save(QUEUE_PAGE_FILMS, currentFilm);\n    } else {\n      const queueArr = load(QUEUE_PAGE_FILMS);\n      const requiredInd = queueArr.findIndex(el => el.id === currentFilm.id);\n      console.log(requiredInd);\n      if (requiredInd === -1) {\n        Notiflix.Notify.failure(`Цей фільм вже видалено`, {\n          timeout: 1000,\n        });\n        return\n      }\n      queueArr.splice(requiredInd, 1);\n      localStorage.setItem(QUEUE_PAGE_FILMS, JSON.stringify(queueArr));\n      Notiflix.Notify.success('Фільм видалено з черги', {\n        timeout: 1000,\n      });\n    }\n\n  }\n\n  btnCloseModal.addEventListener('click', filmCardCloseWindow);\n  document.addEventListener('keydown', filmCardCloseWindowByEsc);\n\n  function backdropCloseModal(event) {\n    if (event.target.classList.contains('backdrop')) {\n      filmCardCloseWindow();\n    }\n  }\n\n  function filmCardCloseWindowByEsc(ev) {\n    if (ev.code !== 'Escape') {\n      return;\n    }\n    filmCardCloseWindow();\n  }\n\n  function filmCardCloseWindow() {\n    if (selectedList === 'queue') {\n      getDataQueue();\n    } else {\n      getDataWatched();\n    }\n\n    backdrop.classList.add('visually-hidden');\n    btnCloseModal.removeEventListener('click', filmCardCloseWindow);\n    btnWatchedEl.removeEventListener('click', saveToLibWatchedStorage);\n    btnQueueEl.removeEventListener('click', saveToLibQueueStorage);\n    document.removeEventListener('keydown', filmCardCloseWindowByEsc);\n    backdrop.removeEventListener('click', backdropCloseModal);\n  }\n}\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport libraryFilmCard from '../templates/library-card.hbs';\nimport { load } from './local-storage';\nimport { WATCHED_PAGE_FILMS, QUEUE_PAGE_FILMS } from './api-variables.js';\n\nconst galleryList = document.querySelector('.gallery-library__list');\nconst watchedBtn = document.querySelector('.js-btn-watched');\nconst queuedBtn = document.querySelector('.js-btn-queue');\nconst paginationBox = document.querySelector('#pagination');\nconst libWarnText = document.querySelector('.lib__empty');\n\nconst showPerPage = 20;\nexport let selectedList = 'queue';\n\nexport function renderGallery(arr) {\n  galleryList.innerHTML = '';\n  galleryList.insertAdjacentHTML('beforeend', libraryFilmCard(arr));\n}\n\nwatchedBtn.addEventListener('click', getDataWatched);\n\nlet currentPageWatched = 1;\nlet firstIdxWatched = 0;\nlet lastIdxWatched = 20;\n\nexport function getDataWatched() {\n  watchedBtn.classList.add('btn--active');\n  watchedBtn.classList.remove('btn--bright');\n  queuedBtn.classList.add('btn--bright');\n  queuedBtn.classList.remove('btn--active');\n  selectedList = 'watched';\n  paginationBox.classList.add('visually-hidden');\n  libWarnText.classList.add('visually-hidden');\n\n  const watchedArr1 = load(WATCHED_PAGE_FILMS);\n  if (watchedArr1 === undefined || !watchedArr1.length) {\n    galleryList.innerHTML = '';\n    libWarnText.classList.remove('visually-hidden');\n    return;\n  }\n  renderGallery(watchedArr1.slice(firstIdxWatched, lastIdxWatched));\n\n  if (watchedArr1 && watchedArr1.length > 20) {\n    paginationBox.classList.remove('visually-hidden');\n\n    const pagination = new Pagination('pagination', {\n      totalItems: watchedArr1.length,\n      itemsPerPage: showPerPage,\n      visiblePages: 5,\n      centerAlign: true,\n    });\n\n    pagination.movePageTo(currentPageWatched);\n\n    pagination.on('afterMove', event => {\n      const watchedArr1 = load(WATCHED_PAGE_FILMS);\n      currentPageWatched = event.page;\n      firstIdxWatched = (currentPageWatched - 1) * showPerPage;\n      lastIdxWatched = firstIdxWatched + showPerPage;\n\n      renderGallery(watchedArr1.slice(firstIdxWatched, lastIdxWatched));\n    });\n  } else {\n    renderGallery(watchedArr1);\n    firstIdxWatched = 0;\n    currentPageWatched = 1;\n    lastIdxWatched = 20;\n  }\n}\n\nqueuedBtn.addEventListener('click', getDataQueue);\n\nlet currentPageQueue = 1;\nlet firstIdxQueue = 0;\nlet lastIdxQueue = 20;\n\nexport function getDataQueue() {\n  queuedBtn.classList.add('btn--active');\n  queuedBtn.classList.remove('btn--bright');\n  watchedBtn.classList.add('btn--bright');\n  watchedBtn.classList.remove('btn--active');\n  selectedList = 'queue';\n  paginationBox.classList.add('visually-hidden');\n  libWarnText.classList.add('visually-hidden');\n\n  const queueArr1 = load(QUEUE_PAGE_FILMS);\n  if (queueArr1 === undefined || !queueArr1.length) {\n    galleryList.innerHTML = '';\n    libWarnText.classList.remove('visually-hidden');\n    return;\n  }\n  renderGallery(queueArr1.slice(firstIdxQueue, lastIdxQueue));\n\n  if (queueArr1 && queueArr1.length > 20) {\n    paginationBox.classList.remove('visually-hidden');\n\n    const pagination = new Pagination('pagination', {\n      totalItems: queueArr1.length,\n      itemsPerPage: showPerPage,\n      visiblePages: 5,\n      centerAlign: true,\n    });\n\n    pagination.movePageTo(currentPageQueue);\n\n    pagination.on('afterMove', event => {\n      const queueArr1 = load(QUEUE_PAGE_FILMS);\n      currentPageQueue = event.page;\n      firstIdxQueue = (currentPageQueue - 1) * showPerPage;\n      lastIdxQueue = firstIdxQueue + showPerPage;\n\n      renderGallery(queueArr1.slice(firstIdxQueue, lastIdxQueue));\n    });\n  } else {\n    renderGallery(queueArr1);\n    firstIdxQueue = 0;\n    currentPageQueue = 1;\n    lastIdxQueue = 20;\n  }\n}\n","{{#each this}}\n  <li id={{id}} class='gallery-library__card'>\n    <img\n      class='gallery-library__img'\n      {{#if poster_path}}\n      src='{{getPosterUrl poster_path}}'\n      {{else}}\n      src='https://papik.pro/uploads/posts/2021-12/thumbs/1639228118_1-papik-pro-p-kino-klipart-1.jpg'\n      {{/if}}\n      alt={{title}}\n    />\n    <div class='gallery-library__info-wrap'>\n      <p class='gallery-library__name'>{{title}}</p>\n      <div class='gallery-library__info'>\n        {{#if genre_ids}}\n        <span class='gallery-library__genre'>{{getShortGenres genre_ids}}\n        {{else}}\n        <span class='gallery-library__genre'>Жанр невідомий\n        {{/if}}\n            |\n            {{getYear release_date}}</span>\n        <span class='gallery-library__rating'>{{vote_average}}</span>\n      </div>\n    </div>\n  </li>\n{{/each}}"],"names":["parcelRequire","$fb9GJ","$cbf2a773a936e3a1$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","fn","program","inverse","compiler","main","noop","useData","$aec7247fe12e1e24$var$galleryList","document","querySelector","$aec7247fe12e1e24$var$watchedBtn","$aec7247fe12e1e24$var$queuedBtn","$aec7247fe12e1e24$var$paginationBox","$aec7247fe12e1e24$var$libWarnText","$aec7247fe12e1e24$export$62842f941c1035ef","$aec7247fe12e1e24$export$30b0ee8bdb5cac31","arr","innerHTML","insertAdjacentHTML","addEventListener","$aec7247fe12e1e24$export$32ee735854ad75e9","$aec7247fe12e1e24$var$currentPageWatched","$aec7247fe12e1e24$var$firstIdxWatched","$aec7247fe12e1e24$var$lastIdxWatched","classList","add","remove","watchedArr11","$b5rV1","load","$2GjMI","WATCHED_PAGE_FILMS","undefined","length","slice","pagination","totalItems","itemsPerPage","visiblePages","centerAlign","movePageTo","on","event","watchedArr1","page","$aec7247fe12e1e24$export$57a248d513b7c88f","$aec7247fe12e1e24$var$currentPageQueue","$aec7247fe12e1e24$var$firstIdxQueue","$aec7247fe12e1e24$var$lastIdxQueue","queueArr11","QUEUE_PAGE_FILMS","queueArr1","$14816da351873931$var$galleryLibEl","$14816da351873931$var$backdrop","$14816da351873931$var$modalInfoFilm","$14816da351873931$var$btnCloseModal","event1","target","nodeName","currentId","Number","closest","id","unitedStorageArr","currentFilmIdx","findIndex","el","currentFilm","markup","$l2kTn","default","backdropCloseModal","btnWatchedEl","btnQueueEl","saveToLibWatchedStorage","saveToLibQueueStorage","textContent","queueArr","requiredInd","splice","localStorage","setItem","JSON","stringify","save","watchedArr","$eWCmQ","Notify","failure","timeout","success","console","log","contains","filmCardCloseWindow","filmCardCloseWindowByEsc","ev","code","removeEventListener"],"version":3,"file":"library.a615563a.js.map"}